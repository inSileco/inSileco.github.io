<!DOCTYPE html>
<html lang="en-us">
    <head>
        
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Hugo, Github, Travis: a step in continuous deployment!</title>
        
        <style>

    html body {
        font-family: 'Lato', sans-serif;
        background-color: white;
    }

    :root {
        --accent: #3fb3b2;
        --border-width:  5px ;
    }

</style>


<link rel="stylesheet" href="https://insileco.github.io/css/main.css">


 <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/tonsky/FiraCode@1.206/distr/fira_code.css">  <link rel="stylesheet" href="https://insileco.github.io/css/academicons.min.css">  <link rel="stylesheet" href="https://insileco.github.io/css/main.css">  <link rel="stylesheet" href="https://insileco.github.io/css/syntax.css">  <link rel="stylesheet" href="https://insileco.github.io/css/insileco.css"> 


<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">





<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" crossorigin="anonymous">


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin="anonymous" />
 



 <script src="https://insileco.github.io/js/codecopypaste.js"></script> 


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>


<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>


<script>$(document).on('click', function() { $('.collapse').collapse('hide'); })</script>
 <meta name="generator" content="Hugo 0.115.4">
        

        
            <script async src="https://www.googletagmanager.com/gtag/js?id=UA-109508556-1"></script>
            <script>
              window.dataLayer = window.dataLayer || [];
              function gtag(){dataLayer.push(arguments)};
              gtag('js', new Date());
              gtag('config', 'UA-109508556-1');
            </script>
        

        
            <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        

        


  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/tonsky/FiraCode@1.206/distr/fira_code.css">

  <link rel="stylesheet" href="/css/academicons.min.css">

  <link rel="stylesheet" href="/css/main.css">

  <link rel="stylesheet" href="/css/syntax.css">

  <link rel="stylesheet" href="/css/insileco.css">



    </head>

    <body>
        

        <nav class="navbar navbar-default navbar-fixed-top">
            <div class="container">
                <div class="navbar-header">
                    <a class="navbar-brand visible-xs" href="#">Hugo, Github, Travis: a step in continuous deployment!</a>
                    <button class="navbar-toggle" data-target=".navbar-collapse" data-toggle="collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
                <div class="collapse navbar-collapse">
                    
                        <ul class="nav navbar-nav">
                            
                                <li><a href="/about/">About</a></li>
                            
                                <li><a href="https://insilecoinc.github.io/">Consulting</a></li>
                            
                                <li><a href="/post/">Posts</a></li>
                            
                                <li><a href="/resource/">Resources</a></li>
                            
                        </ul>
                    
                    
                        <ul class="nav navbar-nav navbar-right">
                            
                                <li class="navbar-icon"><a href="/"><i class="fas fa-home"></i></a></li>
                            
                                <li class="navbar-icon"><a href="https://github.com/inSileco/"><i class="fab fa-github"></i></a></li>
                            
                                <li class="navbar-icon"><a href="https://twitter.com/inSileco/"><i class="fab fa-twitter"></i></a></li>
                            
                                <li class="navbar-icon"><a href="https://insileco.github.io/index.xml"><i class="fas fa-rss"></i></a></li>
                            
                        </ul>
                    
                </div>
            </div>
        </nav>


<img class="full-width" width="100%" src="/img/banner4.png"></img>


<div class="row" style = "display: flex;">

    <div class="col-md-3">
        <div class="toc">

    <h2 style="padding-top: 0.5rem; padding-bottom: 0.25rem;">
        <a href="#">
            <i class='fas fa-chevron-up'></i>
        </a>
    </h2>

    
    <nav id="TableOfContents">
  <ul>
    <li><a href="#the-big-picture--continuous-deployment-for-static-website">The big picture ðŸ“·: continuous deployment for static website</a></li>
    <li><a href="#make-travis-and-github-work-together">Make Travis and Github work together</a></li>
    <li><a href="#about-domain-name-system-dsn">About Domain Name System (DSN)</a></li>
  </ul>
</nav>
    

    <h2 style="margin-top: 0.25rem; padding-top: 0.5rem;">
        <a href="#bottom">
            <i class='fas fa-chevron-down'></i>
        </a>
    </h2>

</div>
    </div>


    <div class="col-md-7">

        <div class="post-content">

            <div id="post-content-header">
            <h1>
                <a href="/2018/03/30/hugo-github-travis-a-step-in-continuous-deployment/">Hugo, Github, Travis: a step in continuous deployment!</a>
            </h1>

            <h4>
                March 30, 2018
            </h4>

            <p>
                <i class="fas fa-tags" aria-hidden="true"></i> &nbsp;  <a
                    href="/tags/static-website"><kbd class="item-tag">static website</kbd></a>  <a
                    href="/tags/continuous-deployment"><kbd class="item-tag">continuous deployment</kbd></a>  <a
                    href="/tags/blog"><kbd class="item-tag">blog</kbd></a>  <a
                    href="/tags/r"><kbd class="item-tag">R</kbd></a>  <a
                    href="/tags/insileco"><kbd class="item-tag">inSileco</kbd></a> 
                <br>
                
            </p>

            
            <p style="font-size: 1.6em;"> 
                <i class="fas fa-pencil-alt"></i>
                
                 
                    
                    <a href="/about/">Kevin Cazelles</a>,
                 
                    
                    <a href="/about/">Steve Vissault</a>
                
                <a href="#"></a>
            </p>
            

            
            <p> 
                <i class="fas fa-check-square" title="Reviewer(s)"></i>
                
                 
                    
                    <a href="/about/">David Beauchesne</a>
                
                <a href="#"></a>
            </p>
            

            <p>
                
                
                
                    <img src='https://img.shields.io/static/v1?style=flat&amp;label=reading%20time&amp;message=12min&amp;color=3fb3b2&amp;logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAA/1BMVEU/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7L////QnMRFAAAAVHRSTlMAAyRgm8Pa5C&#43;GyOPo5xV40unq3y2szJpqSjw3wcVtIwTikCLebwkBeQUQHTB30ZgHAojvroftrQjNS4nsBmfcKbbLbBMXdOvmsUgynn8LWMBxIGRFHj3/AAAAAWJLR0RU5AOIpQAAAAlwSFlzAAAN5QAADeUB5upprwAAAAd0SU1FB&#43;QEBQceG9g0RXAAAAFvSURBVDjLhVPXdoJAEF0BQdwZZMHeKIolMUbTJb2aXv//X4IFZD16uC8wu3fKztwhJERKEKW0rChyWhKFFFlHKqNmKQAGAKBZNbNG0XI6AzCAmiYNPsD0nBa/zxcCPyyWypVqtVIuFWdWIb&#43;6r9UZQqNp2QvTtpoNQFavRf7BveO24iFbrhMwljG0AsO21&#43;GL6nhtZIV5Hd0eouP1F&#43;c7u1p38df3HMTezBjoAG7ovzfcH4UxXAB9QMhYZdCwwsgHh0dRLqsBTB0TIQvYjFIfn5yeRUYTISsQkcJE2EwQJkBFIoFRsjcT7JIBEkkDlMlmAikDpImM1N9G8CnKREGzyhFiHauaqKwRzi8m/iVP4FNcmca1e9ONp&#43;CLHPm3aNzdP8SK5J9JyOPTcPr88jqKnsk3KsD47d2Ztj8uw0bxrZ7j8&#43;sbf6JW88Na4vdPi4bFjzsumeW4ecGssBJMouSSRZss&#43;&#43;TFSV695OUlW9f/HyniMFbfN&#43;2lAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIwLTA0LTA1VDExOjMwOjUyLTA0OjAwwJKD8wAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMC0wNC0wNVQxMTozMDoyNy0wNDowMOkyHfEAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC'>
                
                
                
                
                
                    <a href="https://creativecommons.org/licenses/by/4.0/">
                        <img src="https://img.shields.io/static/v1?style=flat&label=license&message=CC-BY-4.0&color=f76f2b&logo=creative-commons">
                    </a>
                
                
                
                
                &nbsp;&nbsp;
                <a href="http://twitter.com/share?url=https%3a%2f%2finsileco.github.io%2f2018%2f03%2f30%2fhugo-github-travis-a-step-in-continuous-deployment%2f&text=Empty%20your%20R%20plots%21" target="_blank">
                    <img src='https://img.shields.io/twitter/url?style=social&url=https%3a%2f%2finsileco.github.io%2f2018%2f03%2f30%2fhugo-github-travis-a-step-in-continuous-deployment%2f?link=http://left&link=http://right}'>
                </a>

                

            </p>
            </div>



            <div id="post-content-body" class="text-justify">

                <p>I (Kevin) recently rebuilt <a href="http://kevincazelles.fr/">my personal website</a> and
I was eager to set up the same workflow Steve built for our blog (this blog!),
<em>i.e.</em> a combination of Hugo, Github and Travis. I though this was a good opportunity
to detail how it works and so I wrote this post with Steve. Note that there are
several blog posts on the topic available online, for instance
<a href="https://medium.com/zendesk-engineering/how-to-create-a-website-like-freshswift-net-using-hugo-travis-ci-and-github-pages-67be6f480298">here</a>
and <a href="https://www.metachris.com/2017/04/continuous-deployment-hugo---travis-ci--github-pages/">here</a>.
We did our best to complement them in the following post.</p>
<br>
<h2 id="the-big-picture--continuous-deployment-for-static-website">The big picture ðŸ“·: continuous deployment for static website</h2>
<p>Continuous deployment (CD) is a set of automated procedures to build an
environment from scratch and test a software within it as soon as code has been
committed. Basically, following a push/modification on the code, the CD service
connected to your repository (via a web API) triggers the build of the modified
code. Optionally, the CD service notifies the developers whether or not the build
has passed. CD services have originally been designed for softwares engineers.</p>
<p>The beauty of the micro services world today is that you can easily adapt
services such as CD service to solve a problem. The problem with static
website generators is that every time you modify the information on your website,
you need to push those edits to your hosting server. I (Steve) hate repetitive
tasks, so I decided to use a CD service to automatically build and send the new
modified website to the hosting server.</p>
<p>We detail below how we use CD for this blog and <a href="http://kevincazelles.fr/">http://kevincazelles.fr/</a>. As
mentioned above, we used Hugo, Github and Travis. Let&rsquo;s have a few words about
those three.</p>
<h3 id="hugo-static-web-generator">Hugo: static web generator</h3>
<p>According to the official website, <a href="https://gohugo.io/">Hugo</a> is &ldquo;one of the
most popular open-source static site generator&rdquo; written in
<a href="https://golang.org/">GO</a>. Basically, once Hugo is installed, you first pick up
a theme, add your data using either YAML, TOML or JSON, write content in
Markdown and then Hugo takes care of generating you website for you! Obviously
there is <em>way</em> more to say about Hugo ðŸ˜¼! if you are interested to learn even more
about Hugo, visit the exhaustive official documentation and watch the great
<a href="http://www.giraffeacademy.com/static-site-generators/hugo/">Giraffe Academy tutorials</a>.</p>
<p>For Kevin&rsquo;s personal website pure Hugo was used and for our blog we are
using <a href="https://bookdown.org/yihui/blogdown/">blogdown</a> that allows us to write
our blogposts in <a href="https://rmarkdown.rstudio.com/">R Markdown</a>. In other words we can
directly integrate R outputs (results/figures) in our posts, which is a key feature
for us as we are big time R users.</p>
<p>On a side note, if you are interested in static site generators at large, have a
look at this <a href="https://github.com/myles/awesome-static-generators">awesome list</a>.
Most of them are good substitute for Hugo in the workflow we are describing, <em>e.g.</em>
Steve used <a href="https://harpjs.com/">Harp</a> combined with <a href="https://pugjs.org/api/getting-started.html">pugjs</a>
for <a href="https://github.com/SteveViss/steveviss.github.com">his personal website</a>.</p>
<h3 id="github-to-track-the-code-and-host-the-website">Github to track the code and host the website</h3>
<p>As you could read on Wikipedia:</p>
<blockquote>
<p>GitHub is a web-based hosting service for version control using git.</p>
</blockquote>
<p><a href="https://github.com/">Github</a> <i class="fab fa-github" aria-hidden="true"></i>
(and similar services like Gitlab <i class="fab fa-gitlab" aria-hidden="true"></i>
and Bitbucket <i class="fa fa-bitbucket" aria-hidden="true"></i>) are wonderful/essential
tools to host, version control, and <em>share</em> your code. For instance, our blog is available
at <a href="https://github.com/inSileco/inSileco.github.io">https://github.com/inSileco/inSileco.github.io</a>, but if you want to get the whole
code underlying it, you can <a href="https://help.github.com/articles/cloning-a-repository/">clone it</a>
or <a href="https://help.github.com/articles/fork-a-repo/">fork it</a>. Also, if you find
any issue/bug, you can easily <a href="https://help.github.com/articles/about-issues/">report an issue</a>.
On top of these services, Github proposes to host website through the <a href="https://pages.github.com/">Github
pages <em>a.k.a.</em> gh-pages</a> service. Basically, if your
repository or part of it (a subfolder <code>docs</code> or a dedicated branch) is a website,
Github will assign an URL to it and so your website will be put on line.
We used this service to host our blog at <a href="https://insileco.github.io/">https://insileco.github.io/</a>.</p>
<h3 id="travis-ci-check-and-deploy-the-website">Travis CI: check and deploy the website</h3>
<p><a href="https://travis-ci.org/">Travis CI</a> is a Continuous Integration (CI) service, <em>i.e.</em>
an online service that &ldquo;[automates] the build and testing of code every time a team
member commits changes to version&rdquo; (Sam Guckenheimer on <a href="https://www.visualstudio.com/learn/what-is-continuous-integration/?rr=https%3A%2F%2Fwww.google.ca%2F">Visual studio</a>.
Note that there are subtle semantic differences between CI and CD, <a href="https://www.atlassian.com/continuous-delivery/ci-vs-ci-vs-cd">as explained
by Sten Pittet on Atlassian</a>.
In practice, as soon as we <a href="https://help.github.com/articles/adding-a-file-to-a-repository-using-the-command-line/">push a new commit</a>
on the Github repository of our website, Travis rebuilds an environment
on one of his Linux server, <em>i.e.</em> all softwares required are installed (<em>e.g.</em>
Hugo), builds the website and reports whether or not the build has
passed or not (note that the user can write unit testings for additional checks).
Using Travis for our blog ensures that our website can be rebuilt in a specific
Linux environment, the very same environment for all authors of the blog.
Therefore, even though we develop our website and write posts in different environments
(and even different Operating Systems), we can verify that local configurations
are not affecting the visual rendering of our website. Furthermore, Travis
allows us to deploy our website on a gh-page. After any change is committed to the code
underlying our website, the code is checked and the new version of the website is transfered
online if the built is successful (<em>The build passed</em>!). Travis is the key to our CD. By the way, Travis
CI is really convenient when working with Github (and R as R is a community
supported language on Travis). There are however a lot of different CI services.
Have a look at this <a href="https://github.com/ligurio/awesome-ci">awesome list</a> for more!</p>
<h2 id="make-travis-and-github-work-together">Make Travis and Github work together</h2>
<p>Once you have an account on Github you can easily sign up to Travis. By doing
so, you will actually allow Travis CI to access certain information of your Github
account through the <a href="https://en.wikipedia.org/wiki/OAuth">OAuth protocol</a> (to
see the application you have granted such access, go to <code>settings -&gt; Applications -&gt; Authorized OAuth Apps</code>
on your Github account). Travis will then have access to all your public Github
repositories (note that you can also gain access to private repository if you want to, but only public repository are
free for an unlimited number of builds). The access granted through the OAuth
protocol is actually enough to trigger a build of your website on Travis after
a push on the associated Github repository. It is however not enough to
let Travis deploy your website: an authentication token is required. Below we
detail the steps required using the set up process for Kevin&rsquo;s personal website.</p>
<h4 id="1--generate-a-token-on-github">1- Generate a token on Github</h4>
<ul>
<li>
<p>Go to <code>Settings -&gt; Developer setting -&gt; Personal access tokens</code> on your Github account,
click on <code>Generate new token</code>, have a look at the <a href="https://help.github.com/articles/creating-a-personal-access-token-for-the-command-line/">documentation</a>
for further details.</p>
</li>
<li>
<p>Enter your password and then select the kind of token you need and name it:</p>
</li>
</ul>
<div style="text-align:center"><img src="kindoftoken.png" width="75%"></img></div>
<br>
<h4 id="2--add-your-token-to-the-repository">2- Add your token to the repository</h4>
<ul>
<li>Go to the settings of your website repository and add Travis in <code>Integration and services</code>
as shown in the screencast below:</li>
</ul>
  <video width="100%" controls>
   <source src="addghtoken.webm" type="video/webm">
   Your browser does not support the video tag.
  </video>
<ul>
<li>Add your user name and your token:</li>
</ul>
<div style="text-align:center"><img src="addtokenghrepo.png" width="75%"></img></div>
<br>
<h4 id="3--use-the-token-on-travis-ci">3- Use the token on Travis CI</h4>
<ul>
<li>Go to the associated Travis repository, then open the settings and add
and environment variable. Pick up a name that actually makes sense to you and
enter the token, we named it <code>$GH_TOKEN</code> as it is short and crystal clear.</li>
</ul>
<div style="text-align:center"><img src="addtokenontravis.png" width="75%"></img></div>
<h4 id="4--use-the-travisyaml-file">4- use the <code>.travis.yaml</code> file</h4>
<p>The set of instructions to <a href="https://docs.travis-ci.com/user/customizing-the-build/">customize a build on Travis CI</a>
are recorded in a <code>.travis.yaml</code> file that must be included in the Github
repository of the website. In our case, we want to deploy a <strong>Hugo website</strong> on
the <strong>Github-pages</strong> which requires a <strong>token</strong>. All these elements must be
mentioned in our <code>.travis.yaml</code> file. For Kevin personal website, as pure Hugo
is used, we need to install Hugo and build the <a href="https://gohugo.io/getting-started/usage/">public website</a>,
here are the parts that contain such instructions (adapted from <a href="https://www.metachris.com/2017/04/continuous-deployment-hugo---travis-ci--github-pages/">this</a>):</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="c"># Clean and don&#39;t fail</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">install</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">sudo pip install pygments</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">wget https://github.com/gohugoio/hugo/releases/download/v0.35/hugo_0.35_Linux-64bit.deb -O /tmp/hugo.deb &amp;&amp; sudo dpkg -i /tmp/hugo.deb</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">rm -rf public || exit 0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c"># Build the website</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">script</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">pygmentize -V</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">git submodule update --init --recursive</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">hugo -v</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>For our blog, we used <a href="https://bookdown.org/yihui/blogdown/">blogdown</a> and here
are what we used in <code>.travis.yaml</code>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">before_install</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">sudo add-apt-repository ppa:ubuntugis/ubuntugis-unstable --yes</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">sudo apt-get --yes --force-yes update -qq</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">mkdir pandoc</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">wget https://github.com/jgm/pandoc/releases/download/1.19.2.1/pandoc-1.19.2.1-1-amd64.deb</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">sudo dpkg -i pandoc-1.19.2.1-1-amd64.deb</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">export PATH=./pandoc/usr/bin/:$PATH</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">before_script</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">Rscript -e &#39;blogdown::install_hugo()&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">script</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span>- <span class="l">Rscript -e &#39;blogdown::build_site()&#39;</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>As we used gh-pages from a public repository in both cases, our options regarding the <a href="https://docs.travis-ci.com/user/deployment">deployment</a> are similar and include
all the details about the deployment including the token passed as a environment
variable:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">deploy</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">provider</span><span class="p">:</span><span class="w"> </span><span class="l">pages</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">skip_cleanup</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">github_token</span><span class="p">:</span><span class="w"> </span><span class="l">$GH_TOKEN</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">target_branch</span><span class="p">:</span><span class="w"> </span><span class="l">master</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">local_dir</span><span class="p">:</span><span class="w"> </span><span class="l">public</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">on</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">branch</span><span class="p">:</span><span class="w"> </span><span class="l">dev</span><span class="w">
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>Note that for both websites, the default branch is <code>dev</code>, where all development
occurs, and we deploy the websites on the <code>master</code> branch (see image below).
Also we <a href="https://blog.github.com/2009-12-29-bypassing-jekyll-on-github-pages/">bypass Jekyll processing on gh-pages</a>
adding a <code>.nojekyll</code> file in our repository.</p>
<h2 id="about-domain-name-system-dsn">About Domain Name System (DSN)</h2>
<p>Before reading what follows, note that everything about gh-pages is well
explained on <a href="https://pages.github.com/">https://pages.github.com/</a>. Basically, a gh-page is a website
associated to a Github repository used, for example, to document a package. To set up a gh-page, go to the setting of
the repository then <code>Options</code>, then scroll down to <code>GitHub Pages</code> and activate
a gh-page. You have two choices: use the <code>master</code> branch or a subfolder <code>docs/</code>.
As explained above we used the <code>master</code> branch. Once set up the URL
associate is basically:</p>
<ul>
<li><code>http://</code> + <code>user name</code> + <code>.github.io/</code> + name of the repository.</li>
</ul>
<p>For instance for Kevin&rsquo;s repo <code>mapsWithR</code> a gh-page has been used and its
URL is <a href="http://kevcaz.github.io/mapsWithR">http://kevcaz.github.io/mapsWithR</a>. Note that you can also have a specific
repository for the website associated to your Github account, see <a href="https://guides.github.com/features/pages/">https://guides.github.com/features/pages/</a>.
This is what we use for our blog  <a href="https://github.com/inSileco/inSileco.github.io">https://github.com/inSileco/inSileco.github.io</a> (see the
URL do not follow the URL rule described above). Last but not least, if you
already own a domain, you can use it, as explained <a href="https://help.github.com/articles/about-supported-custom-domains/#apex-domains">here</a>.
You will have to deal with your DSN provider though. Kevin used his domain
<code>kevincazelles.fr</code> (see image below) for his personal website now hosted on Github pages.
I (Kevin) would like to thank my friend <a href="https://www.linkedin.com/in/jonathan-l-48425024/">Johnathan Lubin</a>
for having handled the DSN properly for me ðŸ˜¸, <em>i.e.</em> for having set the
<a href="https://wiki.gandi.net/en/dns/zone/a-record">A record</a> properly on <a href="https://www.alwaysdata.com/en/">always data</a>
my DSN provider.</p>
<div style="text-align:center"><img src="setghpage.png" width="75%"></img></div>
<br>
<h4 id="see-you-next-post-">See you next post ðŸ”œ</h4>


                


            </div>


        </div>

          <br>


  
  <script src="//yihui.name/js/math-code.js"></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML' async></script>
  
  


  <h3 class="page-header">Comments on this post</h3>

  <script src="https://utteranc.es/client.js"
        repo="inSileco/inSileco.github.io"
        issue-term="pathname"
        label="Comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
  </script>


  <details>
  <summary>Comment with Disqus</summary>
  <div id="disqus_thread"></div>
  </details>

  
  

  
    <h3 class="page-header">Related posts</h3>
     <div class="item-bottom">

  

  <h1>
    <a href="/2023/07/25/a-few-thoughts-about-pipes-in-r/">A few thoughts about pipes in R</a> <small>July 25, 2023</small>
  </h1>

  <p> <i class="fas fa-tags" aria-hidden="true"></i>  <a href="/tags/r"><kbd class="item-tag">R</kbd></a>  <a href="/tags/tips"><kbd class="item-tag">tips</kbd></a>  <a href="/tags/pipe"><kbd class="item-tag">pipe</kbd></a>  <a href="/tags/internals"><kbd class="item-tag">internals</kbd></a> </p>

  



  

</div>
  <div class="item-bottom">

  

  <h1>
    <a href="/2023/02/12/trick-or-tips-005-r/">Trick or Tips 005 {R}</a> <small>February 12, 2023</small>
  </h1>

  <p> <i class="fas fa-tags" aria-hidden="true"></i>  <a href="/tags/r"><kbd class="item-tag">R</kbd></a>  <a href="/tags/tips"><kbd class="item-tag">tips</kbd></a>  <a href="/tags/trickortips"><kbd class="item-tag">trickortips</kbd></a> </p>

  



  

</div>
  <div class="item-bottom">

  

  <h1>
    <a href="/2020/08/29/custom-tick-marks-with-rs-base-graphics-system/">Custom tick marks with R&#39;s base graphics system</a> <small>August 29, 2020</small>
  </h1>

  <p> <i class="fas fa-tags" aria-hidden="true"></i>  <a href="/tags/r"><kbd class="item-tag">R</kbd></a>  <a href="/tags/ticks"><kbd class="item-tag">ticks</kbd></a>  <a href="/tags/axes"><kbd class="item-tag">axes</kbd></a> </p>

  



  

</div>
 
  


  

<script type="text/javascript" src="https://insileco.github.io/js/codecopypaste.js"></script>






  <script>
    


    var disqus_config = function() {
      this.page.url = "https://insileco.github.io" + "https://insileco.github.io/2018/03/30/hugo-github-travis-a-step-in-continuous-deployment/"; 
      this.page.identifier = "Hugo, Github, Travis: a step in continuous deployment!"; 
    };

    (function() { 
      var d = document,
        s = d.createElement('script');
      s.src = 'https://insileco.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>

  <noscript>
    Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
  </noscript>



</div>


    </div>

    <div class="col-md-2">
    </div>

</div>

<footer>

  <hr>

  <div class="col-md-3">

    <a href="#" id="bottom"></a>

  </div>

  <div class="col-md-8">

    <script src="//yihui.name/js/math-code.js"></script>
    <script async src="//cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>

    <p class="copyright text-muted" style="font-size: 1.6rem;">
      &copy; 2017-2023 inSileco |
      Powered by <a href="https://bookdown.org/yihui/blogdown/">Blogdown</a>,
      <a href="https://gohugo.io">Hugo</a>
      and <a href="https://github.com/calintat/minimal">Minimal</a> |
      Latest build: 27 July 2023 19:06 UTC.
    </p>

  </div>


</footer>

</body>

</html>