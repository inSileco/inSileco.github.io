<!DOCTYPE html>
<html lang="en-us">
    <head>
        
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Creating empty data frames with dfTemplate() and dfTemplateMatch()</title>
        
        <style>

    html body {
        font-family: 'Lato', sans-serif;
        background-color: white;
    }

    :root {
        --accent: #3fb3b2;
        --border-width:  5px ;
    }

</style>


<link rel="stylesheet" href="https://insileco.github.io/css/main.css">


 <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/tonsky/FiraCode@1.206/distr/fira_code.css">  <link rel="stylesheet" href="https://insileco.github.io/css/academicons.min.css">  <link rel="stylesheet" href="https://insileco.github.io/css/main.css">  <link rel="stylesheet" href="https://insileco.github.io/css/syntax.css"> 


<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">





<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" crossorigin="anonymous">


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin="anonymous" />
 



 <script src="https://insileco.github.io/js/codecopypaste.js"></script> 


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>


<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>


<script>$(document).on('click', function() { $('.collapse').collapse('hide'); })</script>
 <meta name="generator" content="Hugo 0.120.4">
        

        
            <script async src="https://www.googletagmanager.com/gtag/js?id=UA-109508556-1"></script>
            <script>
              window.dataLayer = window.dataLayer || [];
              function gtag(){dataLayer.push(arguments)};
              gtag('js', new Date());
              gtag('config', 'UA-109508556-1');
            </script>
        

        
            <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        

        


  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/tonsky/FiraCode@1.206/distr/fira_code.css">

  <link rel="stylesheet" href="/css/academicons.min.css">

  <link rel="stylesheet" href="/css/main.css">

  <link rel="stylesheet" href="/css/syntax.css">



    </head>

    <body>
        

        <nav class="navbar navbar-default navbar-fixed-top">
            <div class="container">
                <div class="navbar-header">
                    <a class="navbar-brand visible-xs" href="#">Creating empty data frames with dfTemplate() and dfTemplateMatch()</a>
                    <button class="navbar-toggle" data-target=".navbar-collapse" data-toggle="collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
                <div class="collapse navbar-collapse">
                    
                        <ul class="nav navbar-nav">
                            
                                <li><a href="/about/">About</a></li>
                            
                                <li><a href="https://insilecoinc.github.io/">Consulting</a></li>
                            
                                <li><a href="/post/">Posts</a></li>
                            
                                <li><a href="/resource/">Resources</a></li>
                            
                        </ul>
                    
                    
                        <ul class="nav navbar-nav navbar-right">
                            
                                <li class="navbar-icon"><a href="/"><i class="fas fa-home"></i></a></li>
                            
                                <li class="navbar-icon"><a href="https://github.com/inSileco/"><i class="fab fa-github"></i></a></li>
                            
                                <li class="navbar-icon"><a href="https://twitter.com/inSileco/"><i class="fab fa-twitter"></i></a></li>
                            
                                <li class="navbar-icon"><a href="https://insileco.github.io/index.xml"><i class="fas fa-rss"></i></a></li>
                            
                        </ul>
                    
                </div>
            </div>
        </nav>


<img class="full-width banner" width="100%" src="/img/banner2.png"></img>

<div class="container-fluid">
<div class="row">

    <div class="col-md-3 col-sm-3 hidden-xs">
        <div class="toc">

    <h2 style="padding-top: 0.5rem; padding-bottom: 0.25rem;">
        <a href="#">
            <i class='fas fa-chevron-up'></i>
        </a>
    </h2>

    <nav id="TableOfContents">
  <ul>
    <li><a href="#insilecomisc">inSilecoMisc</a></li>
    <li><a href="#generating-empty-data-frames-efficiently">Generating empty data frames efficiently</a></li>
    <li><a href="#how-to-flexibly-rbind-a-list-of-data-frames">How to <em>flexibly</em> <code>rbind</code> a list of data frames</a></li>
  </ul>
</nav>

    <h2 style="margin-top: 0.25rem; padding-top: 0.5rem;">
        <a href="#bottom">
            <i class='fas fa-chevron-down'></i>
        </a>
    </h2>

</div>
    </div>

    <div class="col-md-6 col-sm-9">

        <div class="post-content">

            <div id="post-content-header">
            <h1>
                <a href="/2019/02/03/creating-empty-data-frames-with-dftemplate-and-dftemplatematch/">Creating empty data frames with dfTemplate() and dfTemplateMatch()</a>
            </h1>

            <h4>
                February 3, 2019
            </h4>

            <p>
                <i class="fas fa-tags" aria-hidden="true"></i> &nbsp;  <a
                    href="/tags/r"><kbd class="item-tag">R</kbd></a>  <a
                    href="/tags/data-frame"><kbd class="item-tag">data frame</kbd></a>  <a
                    href="/tags/data-frames-generation"><kbd class="item-tag">data frames generation</kbd></a>  <a
                    href="/tags/row-binding"><kbd class="item-tag">row binding</kbd></a> 
                <br>
                
                    <img src="/img/Rlogo.svg" title="R logo" width="60px" style="margin: 1rem;"></img>
                    &nbsp; 
                     
                        <a href="/rpkgs/insilecomisc">
                            <kbd class="item-tag2">inSilecoMisc</kbd>
                        </a> 
                    
                
            </p>

            
            <p style="font-size: 1.6em;"> 
                <i class="fas fa-pencil-alt"></i>
                
                 
                    
                    <a href="/about/">Kevin Cazelles</a>
                
                <a href="#"></a>
            </p>
            

            
            <p> 
                <i class="fas fa-check-square" title="Reviewer(s)"></i>
                
                 
                    
                    <a href="/about/"> </a>,
                 
                    
                    <a href="/about/">Marie-Hélène Brice</a>
                
                <a href="#"></a>
            </p>
            

            <p id="badges">
                
                
                
                    <img src='https://img.shields.io/static/v1?style=flat&amp;label=reading%20time&amp;message=8min&amp;color=3fb3b2&amp;logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAA/1BMVEU/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7L////QnMRFAAAAVHRSTlMAAyRgm8Pa5C&#43;GyOPo5xV40unq3y2szJpqSjw3wcVtIwTikCLebwkBeQUQHTB30ZgHAojvroftrQjNS4nsBmfcKbbLbBMXdOvmsUgynn8LWMBxIGRFHj3/AAAAAWJLR0RU5AOIpQAAAAlwSFlzAAAN5QAADeUB5upprwAAAAd0SU1FB&#43;QEBQceG9g0RXAAAAFvSURBVDjLhVPXdoJAEF0BQdwZZMHeKIolMUbTJb2aXv//X4IFZD16uC8wu3fKztwhJERKEKW0rChyWhKFFFlHKqNmKQAGAKBZNbNG0XI6AzCAmiYNPsD0nBa/zxcCPyyWypVqtVIuFWdWIb&#43;6r9UZQqNp2QvTtpoNQFavRf7BveO24iFbrhMwljG0AsO21&#43;GL6nhtZIV5Hd0eouP1F&#43;c7u1p38df3HMTezBjoAG7ovzfcH4UxXAB9QMhYZdCwwsgHh0dRLqsBTB0TIQvYjFIfn5yeRUYTISsQkcJE2EwQJkBFIoFRsjcT7JIBEkkDlMlmAikDpImM1N9G8CnKREGzyhFiHauaqKwRzi8m/iVP4FNcmca1e9ONp&#43;CLHPm3aNzdP8SK5J9JyOPTcPr88jqKnsk3KsD47d2Ztj8uw0bxrZ7j8&#43;sbf6JW88Na4vdPi4bFjzsumeW4ecGssBJMouSSRZss&#43;&#43;TFSV695OUlW9f/HyniMFbfN&#43;2lAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIwLTA0LTA1VDExOjMwOjUyLTA0OjAwwJKD8wAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMC0wNC0wNVQxMTozMDoyNy0wNDowMOkyHfEAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC'>
                    &nbsp;
                
                
                
                    <a href="/r-bloggers">
                        <img src="https://img.shields.io/static/v1?style=flat&label=shared on&message=R-bloggers&logo=rss&color=6d4f5b">
                    <a>&nbsp;
                
                
                
                    <a href="https://creativecommons.org/licenses/by/4.0/">
                        <img src="https://img.shields.io/static/v1?style=flat&label=license&message=CC-BY-4.0&color=f76f2b&logo=creative-commons">
                    </a>&nbsp;
                
                
                
                
                
                <a href="http://twitter.com/share?url=https%3a%2f%2finsileco.github.io%2f2019%2f02%2f03%2fcreating-empty-data-frames-with-dftemplate-and-dftemplatematch%2f&text=Creating%20empty%20data%20frames%20with%20columns%20of%20different%20classes" target="_blank">
                    <img src='https://img.shields.io/twitter/url?style=social&url=https%3a%2f%2finsileco.github.io%2f2019%2f02%2f03%2fcreating-empty-data-frames-with-dftemplate-and-dftemplatematch%2f?link=http://left&link=http://right}'>
                </a>
                

                

                <div class="visible-xs">
                    <div class="toc">
    
        <h2>Table of Contents</h2>
        <nav id="TableOfContents">
  <ul>
    <li><a href="#insilecomisc">inSilecoMisc</a></li>
    <li><a href="#generating-empty-data-frames-efficiently">Generating empty data frames efficiently</a></li>
    <li><a href="#how-to-flexibly-rbind-a-list-of-data-frames">How to <em>flexibly</em> <code>rbind</code> a list of data frames</a></li>
  </ul>
</nav>
    
</div>
                </div>

            </p>
            </div>


            <div id="post-content-body" class="text-justify">

                <p>Creating a data frame is fairly simple but when you need to <a href="https://stackoverflow.com/questions/10689055/create-an-empty-data-frame">create a large empty data frame with columns that have different classes</a> it takes several command lines. A few days ago, I decided to write a function to simplify this operation and I came to realize that such a function would actually be very useful to ease the row binding of data frames whose column names partially match. How so? This post is meant to answer this question!</p>
<h2 id="insilecomisc">inSilecoMisc</h2>
<p>First of all, the functions I am using in this post are available in  <a href="http://insileco.github.io/inSilecoMisc/">inSilecoMisc</a> which is an R package where we gathered the miscellaneous functions we wrote and deem worth sharing on GitHub. So the first step to reproduce the examples below is to install <code>inSilecoMisc</code> which is straightforward with the [devtools](<a href="https://cran.r-project.org/web/packages/devtools/index.html">https://cran.r-project.org/web/packages/devtools/index.html</a> package) :</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">library</span><span class="p">(</span><span class="n">devtools</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">install_github</span><span class="p">(</span><span class="s">&#34;inSileco/inSilecoMisc&#34;</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Then, load it:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">library</span><span class="p">(</span><span class="n">inSilecoMisc</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>In this post, I&rsquo;ll exemplify how to use <code>dfTemplate()</code> and <code>dfTemplateMatch()</code> but if you are interested in other functions in the packages, <a href="http://insileco.github.io/inSilecoMisc/articles/overview.html">check out the tour vignette</a>.</p>
<h2 id="generating-empty-data-frames-efficiently">Generating empty data frames efficiently</h2>
<p>Let&rsquo;s start with <code>dfTemplate()</code> that creates a data frame with a specific number of columns.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">df1</span> <span class="o">&lt;-</span> <span class="nf">dfTemplate</span><span class="p">(</span><span class="n">cols</span> <span class="o">=</span> <span class="m">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">df1</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;    Var1 Var2</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  1   NA   NA</span>
</span></span><span class="line"><span class="cl"><span class="nf">class</span><span class="p">(</span><span class="n">df1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  [1] &#34;data.frame&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>By default, the data frame created has only 1 row and the columns are filled out with <code>NA</code>. This can readily be changed using arguments <code>nrows</code> and <code>fill</code>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">df2</span> <span class="o">&lt;-</span> <span class="nf">dfTemplate</span><span class="p">(</span><span class="m">2</span><span class="p">,</span> <span class="n">nrows</span> <span class="o">=</span> <span class="m">4</span><span class="p">,</span> <span class="n">fill</span> <span class="o">=</span> <span class="m">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">df2</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;    Var1 Var2</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  1    0    0</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  2    0    0</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  3    0    0</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  4    0    0</span>
</span></span><span class="line"><span class="cl"><span class="n">df3</span> <span class="o">&lt;-</span> <span class="nf">dfTemplate</span><span class="p">(</span><span class="n">cols</span> <span class="o">=</span> <span class="m">2</span><span class="p">,</span> <span class="n">nrows</span> <span class="o">=</span> <span class="m">3</span><span class="p">,</span> <span class="n">fill</span> <span class="o">=</span> <span class="s">&#34;&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">df3</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;    Var1 Var2</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  1          </span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  2          </span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  3</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Columns classes are determined by <code>fill</code>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">class</span><span class="p">(</span><span class="n">df1[</span><span class="p">,</span> <span class="m">1</span><span class="n">]</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">class</span><span class="p">(</span><span class="n">df2[</span><span class="p">,</span> <span class="m">1</span><span class="n">]</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">class</span><span class="p">(</span><span class="n">df3[</span><span class="p">,</span> <span class="m">1</span><span class="n">]</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  [1] &#34;logical&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  [1] &#34;numeric&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  [1] &#34;character&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>And <code>col_classes</code> is used to changed these classes:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">df4</span> <span class="o">&lt;-</span> <span class="nf">dfTemplate</span><span class="p">(</span><span class="n">cols</span> <span class="o">=</span> <span class="m">2</span><span class="p">,</span> <span class="n">col_classes</span> <span class="o">=</span> <span class="s">&#34;character&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">class</span><span class="p">(</span><span class="n">df4[</span><span class="p">,</span> <span class="m">1</span><span class="n">]</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">class</span><span class="p">(</span><span class="n">df4[</span><span class="p">,</span> <span class="m">2</span><span class="n">]</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  [1] &#34;character&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  [1] &#34;character&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Arguments <code>fill</code> and <code>col_classes</code> can be vectors that specify content and class
for every columns:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">df5</span> <span class="o">&lt;-</span> <span class="nf">dfTemplate</span><span class="p">(</span><span class="m">2</span><span class="p">,</span> <span class="m">5</span><span class="p">,</span> <span class="n">col_classes</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#34;character&#34;</span><span class="p">,</span> <span class="s">&#34;numeric&#34;</span><span class="p">),</span> <span class="n">fill</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#34;&#34;</span><span class="p">,</span> <span class="m">5</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">df5</span>
</span></span><span class="line"><span class="cl"><span class="nf">class</span><span class="p">(</span><span class="n">df5[</span><span class="p">,</span> <span class="m">1</span><span class="n">]</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">class</span><span class="p">(</span><span class="n">df5[</span><span class="p">,</span> <span class="m">2</span><span class="n">]</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;    Var1 Var2</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  1         5</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  2         5</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  3         5</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  4         5</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  5         5</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  [1] &#34;character&#34;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  [1] &#34;numeric&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Another useful feature of <code>dfTemplate()</code> is that column names of the data frame to be created can be passed as first argument (<code>cols</code>) :</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">df5</span> <span class="o">&lt;-</span> <span class="nf">dfTemplate</span><span class="p">(</span><span class="nf">c</span><span class="p">(</span><span class="s">&#34;category&#34;</span><span class="p">,</span> <span class="s">&#34;value&#34;</span><span class="p">))</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>So, now you are able to create custom data frames with a set of column names!</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">nms</span> <span class="o">&lt;-</span> <span class="kc">LETTERS</span><span class="n">[1</span><span class="o">:</span><span class="m">10</span><span class="n">]</span>
</span></span><span class="line"><span class="cl"><span class="n">df6</span> <span class="o">&lt;-</span> <span class="nf">dfTemplate</span><span class="p">(</span><span class="n">nms</span><span class="p">,</span> <span class="m">10</span><span class="p">,</span> <span class="n">fill</span> <span class="o">=</span> <span class="nf">tolower</span><span class="p">(</span><span class="n">nms</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">df6</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;     A B C D E F G H I J</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  1  a b c d e f g h i j</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  2  a b c d e f g h i j</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  3  a b c d e f g h i j</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  4  a b c d e f g h i j</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  5  a b c d e f g h i j</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  6  a b c d e f g h i j</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  7  a b c d e f g h i j</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  8  a b c d e f g h i j</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  9  a b c d e f g h i j</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  10 a b c d e f g h i j</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="how-to-flexibly-rbind-a-list-of-data-frames">How to <em>flexibly</em> <code>rbind</code> a list of data frames</h2>
<p>Sometimes we need to <code>rbind</code> data frames that do not have all the columns the final data frame must contain. In such case, we first need to append the missing columns because otherwise the default <code>rbind</code> function won&rsquo;t work. Another solution is to use a package that has a function that do so. For instance, <a href="https://www.rdocumentation.org/packages/plyr/versions/1.8.4/topics/rbind.fill"><code>rbind.fill()</code> from the <code>plyr</code> package</a> allows to perform such <em>flexible</em> <code>rbind</code>. Also, the package <a href="https://cran.r-project.org/web/packages/data.table/index.html">data.table</a> includes a <code>rbind()</code> method for <code>data.table</code> objects that handles such situation (see <a href="https://stackoverflow.com/questions/18003717/efficient-way-to-rbind-data-frames-with-different-columns">this answer on <i class="fa fa-stack-overflow" aria-hidden="true"></i></a>). In this last section, I would like to show how to <code>rbind</code> data frames flexibly with <code>dfTemplateMatch()</code> that is written in base R.</p>
<p>Let me first introduces <code>dfTemplateMatch()</code>. This function takes a data frame as the first argument (<code>x</code>) and the second argument (<code>y</code>) could be another data frame or a vector of character strings. Based on <code>x</code> and <code>y</code>, <code>dfTemplateMatch()</code> creates a data frame that has the same number of rows as <code>x</code> and add columns for all names found in <code>y</code> that are not found in <code>x</code>. Before calling <code>dfTemplateMatch()</code> I create two data frames :</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">df7</span> <span class="o">&lt;-</span> <span class="n">df6[1</span><span class="o">:</span><span class="m">5</span><span class="p">,</span> <span class="m">1</span><span class="o">:</span><span class="m">4</span><span class="n">]</span>
</span></span><span class="line"><span class="cl"><span class="n">df7</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;    A B C D</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  1 a b c d</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  2 a b c d</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  3 a b c d</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  4 a b c d</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  5 a b c d</span>
</span></span><span class="line"><span class="cl"><span class="n">df8</span> <span class="o">&lt;-</span> <span class="n">df6[4</span><span class="o">:</span><span class="m">6</span><span class="n">]</span>
</span></span><span class="line"><span class="cl"><span class="n">df8</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;     D E F</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  1  d e f</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  2  d e f</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  3  d e f</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  4  d e f</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  5  d e f</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  6  d e f</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  7  d e f</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  8  d e f</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  9  d e f</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  10 d e f</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Now I use <code>dfTemplateMatch()</code> to create a third data frame based on two other:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">dfTemplateMatch</span><span class="p">(</span><span class="n">df7</span><span class="p">,</span> <span class="n">df8</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;    A B C D  E  F</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  1 a b c d NA NA</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  2 a b c d NA NA</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  3 a b c d NA NA</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  4 a b c d NA NA</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  5 a b c d NA NA</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>As expected, the output has 5 rows as <code>df6</code> and columns that are not in <code>df6</code> but in <code>df7</code> has been appended to <code>df6</code>. It is possible to use arguments <code>fill</code> and <code>col_classes</code> to custom the columns added.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">dfTemplateMatch</span><span class="p">(</span><span class="n">df7</span><span class="p">,</span> <span class="n">df8</span><span class="p">,</span> <span class="n">fill</span> <span class="o">=</span> <span class="m">1</span><span class="p">,</span> <span class="n">col_classes</span> <span class="o">=</span> <span class="s">&#34;numeric&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;    A B C D E F</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  1 a b c d 1 1</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  2 a b c d 1 1</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  3 a b c d 1 1</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  4 a b c d 1 1</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  5 a b c d 1 1</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>And there is an argument <code>yonly</code> that allows the user to keep only names of <code>y</code> (when <code>yonly = TRUE</code>).</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">dfTemplateMatch</span><span class="p">(</span><span class="n">df7</span><span class="p">,</span> <span class="n">df8</span><span class="p">,</span> <span class="n">yonly</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">,</span> <span class="n">fill</span> <span class="o">=</span> <span class="m">1</span><span class="p">,</span> <span class="n">col_classes</span> <span class="o">=</span> <span class="s">&#34;numeric&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;    D E F</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  1 d 1 1</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  2 d 1 1</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  3 d 1 1</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  4 d 1 1</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  5 d 1 1</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Now let me show you how to <code>rbind()</code> a specific subset of columns of a list of data frame that may or may not have these columns. Let me start by creating a list of data frames.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">lsdf</span> <span class="o">&lt;-</span> <span class="nf">apply</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">  <span class="nf">replicate</span><span class="p">(</span><span class="m">5</span><span class="p">,</span> <span class="nf">sample</span><span class="p">(</span><span class="n">nms</span><span class="p">,</span> <span class="m">5</span><span class="p">)),</span>
</span></span><span class="line"><span class="cl">  <span class="m">2</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="kr">function</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="nf">dfTemplate</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">nrows</span> <span class="o">=</span> <span class="m">5</span><span class="p">,</span> <span class="n">fill</span> <span class="o">=</span> <span class="nf">tolower</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">lsdf</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  [[1]]</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;    E F G H D</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  1 e f g h d</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  2 e f g h d</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  3 e f g h d</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  4 e f g h d</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  5 e f g h d</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  </span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  [[2]]</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;    E G J F A</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  1 e g j f a</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  2 e g j f a</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  3 e g j f a</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  4 e g j f a</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  5 e g j f a</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  </span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  [[3]]</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;    A D H C B</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  1 a d h c b</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  2 a d h c b</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  3 a d h c b</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  4 a d h c b</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  5 a d h c b</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  </span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  [[4]]</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;    I G B E H</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  1 i g b e h</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  2 i g b e h</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  3 i g b e h</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  4 i g b e h</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  5 i g b e h</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  </span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  [[5]]</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;    G C E H I</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  1 g c e h i</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  2 g c e h i</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  3 g c e h i</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  4 g c e h i</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  5 g c e h i</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>So the goal here is to create a data frame that contains only the five first
columns, i.e. A, B, C, D, E, the remaining columns must be discarded and
when one selected column is missing, it must be added (filled out with <code>NA</code>).
To do so, I simply need to call <code>dfTemplateMatch()</code>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">lsdf2</span> <span class="o">&lt;-</span> <span class="nf">lapply</span><span class="p">(</span><span class="n">lsdf</span><span class="p">,</span> <span class="n">dfTemplateMatch</span><span class="p">,</span> <span class="kc">LETTERS</span><span class="n">[1</span><span class="o">:</span><span class="m">5</span><span class="n">]</span><span class="p">,</span> <span class="n">yonly</span> <span class="o">=</span> <span class="kc">TRUE</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">lsdf2</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  [[1]]</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;    E D  A  B  C</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  1 e d NA NA NA</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  2 e d NA NA NA</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  3 e d NA NA NA</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  4 e d NA NA NA</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  5 e d NA NA NA</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  </span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  [[2]]</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;    E A  B  C  D</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  1 e a NA NA NA</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  2 e a NA NA NA</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  3 e a NA NA NA</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  4 e a NA NA NA</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  5 e a NA NA NA</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  </span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  [[3]]</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;    A D C B  E</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  1 a d c b NA</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  2 a d c b NA</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  3 a d c b NA</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  4 a d c b NA</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  5 a d c b NA</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  </span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  [[4]]</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;    B E  A  C  D</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  1 b e NA NA NA</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  2 b e NA NA NA</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  3 b e NA NA NA</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  4 b e NA NA NA</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  5 b e NA NA NA</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  </span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  [[5]]</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;    C E  A  B  D</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  1 c e NA NA NA</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  2 c e NA NA NA</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  3 c e NA NA NA</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  4 c e NA NA NA</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  5 c e NA NA NA</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>And now I can seamlessly <code>rbind()</code> the list <code>lsdf2</code>!</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">do.call</span><span class="p">(</span><span class="n">rbind</span><span class="p">,</span> <span class="n">lsdf2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;        E    D    A    B    C</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  1     e    d &lt;NA&gt; &lt;NA&gt; &lt;NA&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  2     e    d &lt;NA&gt; &lt;NA&gt; &lt;NA&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  3     e    d &lt;NA&gt; &lt;NA&gt; &lt;NA&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  4     e    d &lt;NA&gt; &lt;NA&gt; &lt;NA&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  5     e    d &lt;NA&gt; &lt;NA&gt; &lt;NA&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  6     e &lt;NA&gt;    a &lt;NA&gt; &lt;NA&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  7     e &lt;NA&gt;    a &lt;NA&gt; &lt;NA&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  8     e &lt;NA&gt;    a &lt;NA&gt; &lt;NA&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  9     e &lt;NA&gt;    a &lt;NA&gt; &lt;NA&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  10    e &lt;NA&gt;    a &lt;NA&gt; &lt;NA&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  11 &lt;NA&gt;    d    a    b    c</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  12 &lt;NA&gt;    d    a    b    c</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  13 &lt;NA&gt;    d    a    b    c</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  14 &lt;NA&gt;    d    a    b    c</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  15 &lt;NA&gt;    d    a    b    c</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  16    e &lt;NA&gt; &lt;NA&gt;    b &lt;NA&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  17    e &lt;NA&gt; &lt;NA&gt;    b &lt;NA&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  18    e &lt;NA&gt; &lt;NA&gt;    b &lt;NA&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  19    e &lt;NA&gt; &lt;NA&gt;    b &lt;NA&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  20    e &lt;NA&gt; &lt;NA&gt;    b &lt;NA&gt;</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  21    e &lt;NA&gt; &lt;NA&gt; &lt;NA&gt;    c</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  22    e &lt;NA&gt; &lt;NA&gt; &lt;NA&gt;    c</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  23    e &lt;NA&gt; &lt;NA&gt; &lt;NA&gt;    c</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  24    e &lt;NA&gt; &lt;NA&gt; &lt;NA&gt;    c</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  25    e &lt;NA&gt; &lt;NA&gt; &lt;NA&gt;    c</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="voilà-this-is-what-i-call-a-flexible-rbind-i-hope-youll-find-this-helpful-boom">Voilà! This is what I call a <em>flexible</em> <code>rbind</code>! I hope you&rsquo;ll find this helpful! &#x1f4a5;</h4>
<div style="margin: 1.5rem 0rem 0.5rem 0rem;">
<details>
<summary>Session info <i class="fas fa-cogs" aria-hidden="true"></i></summary>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">sessionInfo</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  R version 4.3.2 (2023-10-31)</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  Platform: x86_64-pc-linux-gnu (64-bit)</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  Running under: Ubuntu 22.04.3 LTS</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  </span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  Matrix products: default</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3 </span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.20.so;  LAPACK version 3.10.0</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  </span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  locale:</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;   [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8        LC_COLLATE=C.UTF-8    </span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;   [5] LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8    LC_PAPER=C.UTF-8       LC_NAME=C             </span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;   [9] LC_ADDRESS=C           LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C   </span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  </span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  time zone: UTC</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  tzcode source: system (glibc)</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  </span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  attached base packages:</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  [1] stats     graphics  grDevices utils     datasets  methods   base     </span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  </span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  other attached packages:</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  [1] inSilecoMisc_0.7.0.9000 inSilecoRef_0.1.1      </span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  </span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  loaded via a namespace (and not attached):</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;   [1] sass_0.4.7        utf8_1.2.4        generics_0.1.3    xml2_1.3.5        blogdown_1.18    </span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;   [6] stringi_1.8.1     httpcode_0.3.0    digest_0.6.33     magrittr_2.0.3    evaluate_0.23    </span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  [11] bookdown_0.36     fastmap_1.1.1     plyr_1.8.9        jsonlite_1.8.7    backports_1.4.1  </span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  [16] crul_1.4.0        promises_1.2.1    fansi_1.0.5       jquerylib_0.1.4   bibtex_0.5.1     </span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  [21] cli_3.6.1         shiny_1.8.0       crayon_1.5.2      rlang_1.1.2       ellipsis_0.3.2   </span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  [26] cachem_1.0.8      yaml_2.3.7        tools_4.3.2       dplyr_1.1.4       httpuv_1.6.12    </span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  [31] DT_0.30           rcrossref_1.2.0   curl_5.1.0        vctrs_0.6.4       R6_2.5.1         </span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  [36] mime_0.12         lifecycle_1.0.4   stringr_1.5.1     fs_1.6.3          htmlwidgets_1.6.2</span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  [41] miniUI_0.1.1.1    pkgconfig_2.0.3   bslib_0.5.1       pillar_1.9.0      later_1.3.1      </span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  [46] glue_1.6.2        Rcpp_1.0.11       xfun_0.41         tibble_3.2.1      tidyselect_1.2.0 </span>
</span></span><span class="line"><span class="cl"><span class="c1">#R&gt;  [51] knitr_1.45        xtable_1.8-4      htmltools_0.5.7   rmarkdown_2.25    compiler_4.3.2</span>
</span></span></code></pre></td></tr></table>
</div>
</div></details>
</div>


                

            </div>


        </div>

          <br>


  
  <script src="//yihui.name/js/math-code.js"></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML' async></script>
  
  


  <h3 class="page-header">Comments on this post</h3>

  <script src="https://utteranc.es/client.js"
        repo="inSileco/inSileco.github.io"
        issue-term="pathname"
        label="Comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
  </script>



  
  

  
    <h3 class="page-header">Related posts</h3>
     <div class="item-bottom">

  

  <h1>
    <a href="/2023/11/23/creating-a-monorepo-of-r-packages-with-github/">Creating a monorepo of R packages with GitHub</a> <small>November 23, 2023</small>
  </h1>

  <p> <i class="fas fa-tags" aria-hidden="true"></i>  <a href="/tags/r"><kbd class="item-tag">R</kbd></a>  <a href="/tags/github"><kbd class="item-tag">github</kbd></a>  <a href="/tags/github-actions"><kbd class="item-tag">github actions</kbd></a>  <a href="/tags/monorepo"><kbd class="item-tag">monorepo</kbd></a>  <a href="/tags/docker"><kbd class="item-tag">docker</kbd></a> </p>

  



  

</div>
  <div class="item-bottom">

  

  <h1>
    <a href="/2023/08/25/a-few-thoughts-about-pipes-in-r/">A few thoughts about pipes in R</a> <small>August 25, 2023</small>
  </h1>

  <p> <i class="fas fa-tags" aria-hidden="true"></i>  <a href="/tags/r"><kbd class="item-tag">R</kbd></a>  <a href="/tags/tips"><kbd class="item-tag">tips</kbd></a>  <a href="/tags/pipe"><kbd class="item-tag">pipe</kbd></a>  <a href="/tags/internals"><kbd class="item-tag">internals</kbd></a> </p>

  



  

</div>
  <div class="item-bottom">

  

  <h1>
    <a href="/2023/02/12/trick-or-tips-005-r/">Trick or Tips 005 {R}</a> <small>February 12, 2023</small>
  </h1>

  <p> <i class="fas fa-tags" aria-hidden="true"></i>  <a href="/tags/r"><kbd class="item-tag">R</kbd></a>  <a href="/tags/tips"><kbd class="item-tag">tips</kbd></a>  <a href="/tags/trickortips"><kbd class="item-tag">trickortips</kbd></a> </p>

  



  

</div>
 
  


  

<script type="text/javascript" src="https://insileco.github.io/js/codecopypaste.js"></script>







</div>


    </div>


</div>
</div>

<footer>

  <hr>

  <div class="col-md-3">

    <a href="#" id="bottom"></a>

  </div>

  <div class="col-md-6">

    <script src="//yihui.name/js/math-code.js"></script>
    <script async src="//cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>

    <p class="copyright text-muted" style="font-size: 1.6rem;">
      &copy; 2017-2023 inSileco |
      Powered by <a href="https://bookdown.org/yihui/blogdown/">Blogdown</a>,
      <a href="https://gohugo.io">Hugo</a>
      and <a href="https://github.com/calintat/minimal">Minimal</a> |
      Latest build: 23 November 2023 16:43 UTC.
    </p>

  </div>


</footer>

</body>

</html>