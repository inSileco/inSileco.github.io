<!DOCTYPE html>
<html lang="en-us">

    <head>

        <title>Animations in R: Time series of erythemal irradiance in the St. Lawrence</title>

        <style>

    html body {
        font-family: Lato, sans-serif;
        background-color: white;
    }

    :root {
        --accent: #3fb3b2;
        --border-width:  5px ;
    }

</style>


<link rel="stylesheet" href="/css/main.css">



  <link rel="stylesheet" href="/css/academicons.min.css">

  <link rel="stylesheet" href="/css/font-awesome.min.css">

  <link rel="stylesheet" href="/css/insileco.css">

  <link rel="stylesheet" href="/css/jquery.tocify.css">

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/tonsky/FiraCode@1.206/distr/fira_code.css">

  <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">



<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">


 <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css"> 


<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
 


    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>

    

    <script>hljs.initHighlightingOnLoad();</script>





  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>


  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>



  <script src="/js/jquery-1.8.3.min.js"></script>

  <script src="/js/jquery-ui-1.9.1.custom.min.js"></script>

  <script src="/js/jquery.tocify.min.js"></script>


        <meta charset="utf-8">

        <meta name="viewport" content="width=device-width, initial-scale=1">

        
        
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-109508556-1"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments)};
          gtag('js', new Date());
          gtag('config', 'UA-109508556-1');
        </script>
        


    </head>

    <body>

        <nav class="navbar navbar-default navbar-fixed-top">

            <div class="container">

                <div class="navbar-header">

                    <a class="navbar-brand visible-xs" href="#">Animations in R: Time series of erythemal irradiance in the St. Lawrence</a>

                    <button class="navbar-toggle" data-target=".navbar-collapse" data-toggle="collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>

                </div>

                <div class="collapse navbar-collapse">

                    
                        <ul class="nav navbar-nav">
                            
                                <li><a href="/">Home</a></li>
                            
                                <li><a href="/about/">About</a></li>
                            
                                <li><a href="https://insilecoinc.github.io/">Consulting</a></li>
                            
                                <li><a href="/post/">Posts</a></li>
                            
                                <li><a href="/software/">Software</a></li>
                            
                                <li><a href="/wiki/">Wiki</a></li>
                            
                        </ul>
                    

                    
                        <ul class="nav navbar-nav navbar-right">
                            
                                <li class="navbar-icon"><a href="https://github.com/inSileco/"><i class="fa fa-github"></i></a></li>
                            
                                <li class="navbar-icon"><a href="https://twitter.com/inSileco/"><i class="fa fa-twitter"></i></a></li>
                            
                                <li class="navbar-icon"><a href="https://insileco.github.io/index.xml"><i class="fa fa-rss"></i></a></li>
                            
                        </ul>
                    

                </div>

            </div>

        </nav>


<img class="full-width" width="100%" src="/img/banner4.png"></img>


<div>

  <div class="col-md-3">
      <div class="hidden-sm hidden-xs">
        <div class="sticky-top">
          <div id="toc"></div>

        </div>
    </div>
  </div>


  <div class="col-md-8">

    <h1><a href="/2017/07/05/animations-in-r-time-series-of-erythemal-irradiance-in-the-st.-lawrence/">Animations in R: Time series of erythemal irradiance in the St. Lawrence</a></h1>

    <h4>July 5, 2017</h4>

    <p>
      <i class="fa fa-tags" aria-hidden="true"></i> &nbsp;  <a href="/tags/r"><kbd class="item-tag">R</kbd></a>  <a href="/tags/plot"><kbd class="item-tag">plot</kbd></a>  <a href="/tags/animation"><kbd class="item-tag">animation</kbd></a>  <a href="/tags/nasa"><kbd class="item-tag">NASA</kbd></a>  <a href="/tags/radiation"><kbd class="item-tag">radiation</kbd></a>  <a href="/tags/st.-lawrence"><kbd class="item-tag">St. Lawrence</kbd></a> 
      <br>
      
       <img src = "/img/Rlogo.svg" title="List of R packages required for this post." width="7%"></img> &nbsp;  <a href="/rpkgs/animation"><kbd class="item-tag2">animation</kbd></a>  <a href="/rpkgs/magrittr"><kbd class="item-tag2">magrittr</kbd></a>  <a href="/rpkgs/graphics"><kbd class="item-tag2">graphics</kbd></a>  <a href="/rpkgs/plyr"><kbd class="item-tag2">plyr</kbd></a>  <a href="/rpkgs/raster"><kbd class="item-tag2">raster</kbd></a> 
      
    </p>

    
      <p style = "font-size: 1.6em;"> <i class="fa fa-pencil" aria-hidden="true" title="Author(s)"></i>
       
        <a href="/about/">David Beauchesne</a> &nbsp;
       
        <a href="/about/">Kevin Cazelles</a> &nbsp;
      
     <a href="#"></a></p>
    

    

    <p>
    
    
    
      <img src='https://img.shields.io/static/v1?style=flat&amp;label=reading%20time&amp;message=5min&amp;color=3fb3b2&amp;logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAA/1BMVEU/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7I/s7L////QnMRFAAAAVHRSTlMAAyRgm8Pa5C&#43;GyOPo5xV40unq3y2szJpqSjw3wcVtIwTikCLebwkBeQUQHTB30ZgHAojvroftrQjNS4nsBmfcKbbLbBMXdOvmsUgynn8LWMBxIGRFHj3/AAAAAWJLR0RU5AOIpQAAAAlwSFlzAAAN5QAADeUB5upprwAAAAd0SU1FB&#43;QEBQceG9g0RXAAAAFvSURBVDjLhVPXdoJAEF0BQdwZZMHeKIolMUbTJb2aXv//X4IFZD16uC8wu3fKztwhJERKEKW0rChyWhKFFFlHKqNmKQAGAKBZNbNG0XI6AzCAmiYNPsD0nBa/zxcCPyyWypVqtVIuFWdWIb&#43;6r9UZQqNp2QvTtpoNQFavRf7BveO24iFbrhMwljG0AsO21&#43;GL6nhtZIV5Hd0eouP1F&#43;c7u1p38df3HMTezBjoAG7ovzfcH4UxXAB9QMhYZdCwwsgHh0dRLqsBTB0TIQvYjFIfn5yeRUYTISsQkcJE2EwQJkBFIoFRsjcT7JIBEkkDlMlmAikDpImM1N9G8CnKREGzyhFiHauaqKwRzi8m/iVP4FNcmca1e9ONp&#43;CLHPm3aNzdP8SK5J9JyOPTcPr88jqKnsk3KsD47d2Ztj8uw0bxrZ7j8&#43;sbf6JW88Na4vdPi4bFjzsumeW4ecGssBJMouSSRZss&#43;&#43;TFSV695OUlW9f/HyniMFbfN&#43;2lAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIwLTA0LTA1VDExOjMwOjUyLTA0OjAwwJKD8wAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMC0wNC0wNVQxMTozMDoyNy0wNDowMOkyHfEAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC'>
    
    
     &nbsp;
    
    
      <a href = "https://creativecommons.org/licenses/by/4.0/">
      <img src="https://img.shields.io/static/v1?style=flat&label=license&message=CC-BY-4.0&color=f76f2b&logo=creative-commons">
      </a>
     &nbsp;
    
    
      <a href = "https://github.com/inSileco/inSileco.github.io/wiki/Posts#archiving-a-posts">
      <img src="https://img.shields.io/static/v1?style=flat&label=archived&message=2022-05-27&logo=internet-archive&color=6d4f5b">
      <a>
     &nbsp;
    &nbsp;&nbsp;&nbsp;&nbsp;
    <a href="http://twitter.com/share?url=https%3a%2f%2finsileco.github.io%2f2017%2f07%2f05%2fanimations-in-r-time-series-of-erythemal-irradiance-in-the-st.-lawrence%2f&text=Animations%20in%20R%3a%20Time%20series%20of%20erythemal%20irradiance%20in%20the%20St.%20Lawrence" target="_blank">
      <img src='https://img.shields.io/twitter/url?style=social&url=https%3a%2f%2finsileco.github.io%2f2017%2f07%2f05%2fanimations-in-r-time-series-of-erythemal-irradiance-in-the-st.-lawrence%2f?link=http://left&link=http://right}'>
    </a>
  </p>


    <br>

    <div class="text-justify">

      <h2 id="the-need-for-animations">The “<em>need</em>” for animations</h2>
<p>As part of my PhD thesis, I am currently characterizing the intensity of multiple stressors in the estuary and gulf of St. Lawrence (see ResearchGate <a href="https://www.researchgate.net/project/Evaluating-the-cumulative-impacts-of-human-activities-on-the-structure-and-function-the-trophic-network-of-the-estuary-and-gulf-of-StLawrence">project</a> for more details). I have recently <em>needed</em> (read: <em>thought it would be cool</em>) to create an animation of the temporal variations in ultra-violet intensity in the St. Lawrence. Here is how I did it.</p>
<h2 id="setting-up-r">Setting up R</h2>
<h3 id="r-version-used-to-build-the-last-update-of-this-post">R version used to build the last update of this post</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">sessionInfo</span>()[[1]]<span style="color:#f92672">$</span>version.string
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;  [1] &#34;R version 4.2.0 (2022-04-22)&#34;</span>
</span></span></code></pre></div><h3 id="installing-imagemagick">Installing imagemagick</h3>
<p>The package <code>animation</code>, which I used to create the animations in R, works with the application <a href="https://www.imagemagick.org/script/index.php"><code>imagemagick</code></a>, which can be installed using <a href="https://brew.sh/"><code>Homebrew</code></a> on MacOS.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>brew install imagemagick
</span></span></code></pre></div><h3 id="installing-the-package-animation">Installing the package animation</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">`install.packages</span>(<span style="color:#e6db74">&#39;animation&#39;</span>, repos <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;http://yihui.name/xran&#39;</span>)`
</span></span></code></pre></div><h2 id="data">Data</h2>
<p>There is a incredible amount of data available on the <a href="https://disc.gsfc.nasa.gov/uui/datasets?keywords=%22Aura%20OMI%22">NASA website</a>. For this post, we downloaded all available data from NASA’s Ozone Monitoring Instrument (OMI) aboard the Earth Observing System’s (EOS) Aura satellite. More specifically, we used <a href="https://disc.gsfc.nasa.gov/uui/datasets/OMUVBG_V003/summary?keywords=%22Aura%20OMI%22">OMI/Aura Surface UVB Irradiance and Erythemal Dose Daily at a scale of 0.25 x 0.25 degree</a> and selected the daily erythemal irradiance (mW/m<sup>2</sup>), <em>i.e.</em> the potentially harmful range of UV radiations, from October 1<sup>st</sup> 2004 to April 5<sup>th</sup> 2017. We then selected only the years with 12 months worth of data to create the following figures, <em>i.e.</em> from January 1<sup>st</sup> 2005 to December 31<sup>st</sup> 2016.</p>
<!-- The resulting dataset is available here in the [letiR github page](https://github.com/letiR/letir.github.io/blob/master/assets/AnimationInR/MonthOMI.rds). -->
<p>The maps generated in this post require the user to load <a href="http://www.naturalearthdata.com/http//www.naturalearthdata.com/download/10m/physical/ne_10m_ocean.zip"><code>ocean</code></a> shapefile from <a href="http://www.naturalearthdata.com/">Natural Earth</a>.</p>
<br/>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#75715e"># UV data</span>
</span></span><span style="display:flex;"><span>UV <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">readRDS</span>(<span style="color:#e6db74">&#39;MonthOMI.rds&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Projection</span>
</span></span><span style="display:flex;"><span>spatProj <span style="color:#f92672">&lt;-</span> <span style="color:#e6db74">&#39;+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Ocean shapefile</span>
</span></span><span style="display:flex;"><span>ocean <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">readOGR</span>(dsn <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;shpfile&#34;</span>, layer <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;ne_10m_ocean&#34;</span>) <span style="color:#f92672">%&gt;%</span>
</span></span><span style="display:flex;"><span>             <span style="color:#a6e22e">spTransform</span>(CRSobj <span style="color:#f92672">=</span> <span style="color:#a6e22e">CRS</span>(spatProj))
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;  OGR data source with driver: ESRI Shapefile</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;  Source: &#34;/home/kc/git/inSilecoBlog/inSileco.github.io/content/post/2017/animationinR/shpfile&#34;, layer: &#34;ne_10m_ocean&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;  with 1 features</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;  It has 2 fields</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">class</span>(ocean)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;  [1] &#34;SpatialPolygonsDataFrame&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;  attr(,&#34;package&#34;)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;  [1] &#34;sp&#34;</span>
</span></span></code></pre></div><h2 id="set-parameters-and-functions">Set parameters and functions</h2>
<p>We start be setting the different parameters and functions required to build the animation.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#75715e"># Graphical parameters</span>
</span></span><span style="display:flex;"><span>min_ <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">min</span>(UV[[1]], na.rm <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>) <span style="color:#f92672">%&gt;%</span> plyr<span style="color:#f92672">::</span><span style="color:#a6e22e">round_any</span>(., <span style="color:#ae81ff">100</span>, floor) <span style="color:#75715e"># Minimum values in UV dataset</span>
</span></span><span style="display:flex;"><span>max_ <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">max</span>(UV[[1]], na.rm <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>) <span style="color:#f92672">%&gt;%</span> plyr<span style="color:#f92672">::</span><span style="color:#a6e22e">round_any</span>(., <span style="color:#ae81ff">100</span>, ceiling) <span style="color:#75715e"># Minimum values in UV dataset</span>
</span></span><span style="display:flex;"><span>ext <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">-72</span>, <span style="color:#ae81ff">-54</span>, <span style="color:#ae81ff">44</span>, <span style="color:#ae81ff">53</span>) <span style="color:#75715e"># c(xmin, xmax, ymin, ymax)</span>
</span></span><span style="display:flex;"><span>rbPal <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">colorRampPalette</span>(<span style="color:#a6e22e">c</span>(<span style="color:#e6db74">&#39;#2f6eb9&#39;</span>,<span style="color:#e6db74">&#39;#2aadba&#39;</span>,<span style="color:#e6db74">&#39;#c4c726&#39;</span>,<span style="color:#e6db74">&#39;#b45f5f&#39;</span>)) <span style="color:#75715e"># color palette</span>
</span></span><span style="display:flex;"><span>labels <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">matrix</span>(<span style="color:#a6e22e">seq</span>(<span style="color:#ae81ff">4</span>,(<span style="color:#ae81ff">151-4</span>)), ncol <span style="color:#f92672">=</span> <span style="color:#ae81ff">12</span>, nrow <span style="color:#f92672">=</span> <span style="color:#ae81ff">12</span>,
</span></span><span style="display:flex;"><span>  dimnames <span style="color:#f92672">=</span> <span style="color:#a6e22e">list</span>(<span style="color:#ae81ff">2005</span><span style="color:#f92672">:</span><span style="color:#ae81ff">2016</span>, month.abb), byrow <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>)  <span style="color:#75715e"># Select only full years (start: 2004/10; end: 2017/04)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Monthly trends</span>
</span></span><span style="display:flex;"><span>monthMean <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">apply</span>(X <span style="color:#f92672">=</span> UV[[1]], MARGIN <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>, FUN <span style="color:#f92672">=</span> mean, na.rm <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>) <span style="color:#75715e"># monthly mean</span>
</span></span><span style="display:flex;"><span>monthSd <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">apply</span>(X <span style="color:#f92672">=</span> UV[[1]], MARGIN <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>, FUN <span style="color:#f92672">=</span> sd, na.rm <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>) <span style="color:#75715e"># monthly sd</span>
</span></span><span style="display:flex;"><span>years <span style="color:#f92672">&lt;-</span> <span style="color:#ae81ff">2005</span><span style="color:#f92672">:</span><span style="color:#ae81ff">2016</span>
</span></span><span style="display:flex;"><span>lowCI <span style="color:#f92672">&lt;-</span> monthMean <span style="color:#f92672">-</span> (<span style="color:#ae81ff">1.96</span><span style="color:#f92672">*</span>monthSd) <span style="color:#75715e"># Lower confidence interval</span>
</span></span><span style="display:flex;"><span>upCI <span style="color:#f92672">&lt;-</span> monthMean <span style="color:#f92672">+</span> (<span style="color:#ae81ff">1.96</span><span style="color:#f92672">*</span>monthSd) <span style="color:#75715e"># Upper confidence interval</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Empty plot function</span>
</span></span><span style="display:flex;"><span>eplot <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">function</span>(x <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, y <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, xmin <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, xmax <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, ymin <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, ymax <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">plot</span>(x <span style="color:#f92672">=</span> x, y <span style="color:#f92672">=</span> y, bty <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;n&#34;</span>, ann <span style="color:#f92672">=</span> <span style="color:#66d9ef">FALSE</span>, xaxt <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;n&#34;</span>, yaxt <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;n&#34;</span>,
</span></span><span style="display:flex;"><span>    type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;n&#34;</span>, bg <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;grey&#39;</span>, ylim <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(ymin, ymax), xlim <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(xmin, xmax))
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Legend function</span>
</span></span><span style="display:flex;"><span>colorBar <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">function</span>(colRamp, min, max, nticks <span style="color:#f92672">=</span> <span style="color:#ae81ff">11</span>, ticks <span style="color:#f92672">=</span> <span style="color:#a6e22e">seq</span>(min, max, len <span style="color:#f92672">=</span> nticks)) {
</span></span><span style="display:flex;"><span>    scale <span style="color:#f92672">=</span> (<span style="color:#a6e22e">length</span>(colRamp) <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">/</span> (max <span style="color:#f92672">-</span> min)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">par</span>(mar <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">0.5</span>,<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">4</span>))
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">plot</span>(<span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">10</span>), <span style="color:#a6e22e">c</span>(min_, max_), type <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;n&#39;</span>, bty <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;n&#39;</span>, xaxt <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;n&#39;</span>, xlab <span style="color:#f92672">=</span><span style="color:#e6db74">&#39; &#39;</span>, yaxt <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;n&#39;</span>, ylab <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">axis</span>(<span style="color:#ae81ff">4</span>, ticks, las <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, cex <span style="color:#f92672">=</span> <span style="color:#ae81ff">1.5</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">for </span>(i in <span style="color:#ae81ff">1</span><span style="color:#f92672">:</span>(<span style="color:#a6e22e">length</span>(colRamp) <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>)) {
</span></span><span style="display:flex;"><span>        y <span style="color:#f92672">=</span> (i <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">/</span> scale <span style="color:#f92672">+</span> min
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">rect</span>(<span style="color:#ae81ff">0</span>, y, <span style="color:#ae81ff">10</span>, y <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">/</span> scale, col <span style="color:#f92672">=</span> colRamp[i], border <span style="color:#f92672">=</span> <span style="color:#66d9ef">NA</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="create-first-animation">Create first animation</h2>
<p>Let’s start with a simple animation of erythemal irradiance for 2005.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">saveGIF</span>({
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">for</span>(i in <span style="color:#ae81ff">1</span><span style="color:#f92672">:</span><span style="color:#a6e22e">ncol</span>(labels)){
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">par</span>(mar <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>), pch <span style="color:#f92672">=</span> <span style="color:#ae81ff">21</span>,  xaxs <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;i&#34;</span>, yaxs <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;i&#34;</span>, family <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;serif&#34;</span>)
</span></span><span style="display:flex;"><span>      r <span style="color:#f92672">&lt;-</span> raster<span style="color:#f92672">::</span><span style="color:#a6e22e">raster</span>(UV[[1]][,,labels[1,i]], xmn <span style="color:#f92672">=</span> ext[1], xmx <span style="color:#f92672">=</span> ext[2], ymn <span style="color:#f92672">=</span> ext[3], ymx <span style="color:#f92672">=</span> ext[4], crs <span style="color:#f92672">=</span> spatProj) <span style="color:#f92672">%&gt;%</span>
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">mask</span>(ocean)
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">eplot</span>(xmin <span style="color:#f92672">=</span> ext[1], xmax <span style="color:#f92672">=</span> ext[2], ymin <span style="color:#f92672">=</span> ext[3], ymax <span style="color:#f92672">=</span> ext[4])
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">plot</span>(r, col<span style="color:#f92672">=</span> <span style="color:#a6e22e">rbPal</span>(<span style="color:#ae81ff">100</span>), breaks <span style="color:#f92672">=</span> <span style="color:#a6e22e">seq</span>(min_,max_,length.out<span style="color:#f92672">=</span><span style="color:#ae81ff">100</span>), legend <span style="color:#f92672">=</span> <span style="color:#66d9ef">FALSE</span>, add <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>)
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">plot</span>(ocean, add <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>, lwd <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">text</span>(x <span style="color:#f92672">=</span> <span style="color:#ae81ff">-54.5</span>, y <span style="color:#f92672">=</span> <span style="color:#ae81ff">45</span>, labels <span style="color:#f92672">=</span> <span style="color:#a6e22e">paste</span>(<span style="color:#a6e22e">colnames</span>(labels)[1], <span style="color:#a6e22e">rownames</span>(labels)[i]), adj <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, cex <span style="color:#f92672">=</span> <span style="color:#ae81ff">1.5</span>)
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}, movie.name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;UV2005animate.gif&#34;</span>)
</span></span></code></pre></div><center>
  
    <img src="lUV2005animate.gif" width="50%">
  
</center>

<h2 id="create-complex-animation">Create complex animation</h2>
<p>Now let’s make a more informative and complex animation that allows to visualize monthly erythemal irradiance through the years as well as annual trends.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">ani.options</span>(ani.height <span style="color:#f92672">=</span> <span style="color:#ae81ff">720</span>, ani.width <span style="color:#f92672">=</span> <span style="color:#ae81ff">720</span>)
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">saveGIF</span>({
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">for</span>(i in <span style="color:#ae81ff">1</span><span style="color:#f92672">:</span><span style="color:#a6e22e">nrow</span>(labels)) {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">#layout</span>
</span></span><span style="display:flex;"><span>            mat <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">matrix</span>(<span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">13</span><span style="color:#f92672">:</span><span style="color:#ae81ff">15</span>, <span style="color:#ae81ff">1</span><span style="color:#f92672">:</span><span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">16</span><span style="color:#f92672">:</span><span style="color:#ae81ff">18</span>, <span style="color:#ae81ff">4</span><span style="color:#f92672">:</span><span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">19</span><span style="color:#f92672">:</span><span style="color:#ae81ff">21</span>, <span style="color:#ae81ff">7</span><span style="color:#f92672">:</span><span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">22</span><span style="color:#f92672">:</span><span style="color:#ae81ff">24</span>, <span style="color:#ae81ff">10</span><span style="color:#f92672">:</span><span style="color:#ae81ff">12</span>),
</span></span><span style="display:flex;"><span>              ncol <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>, nrow <span style="color:#f92672">=</span> <span style="color:#ae81ff">8</span>, byrow <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>) <span style="color:#f92672">%&gt;%</span>
</span></span><span style="display:flex;"><span>                  <span style="color:#a6e22e">cbind</span>(<span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">25</span>, <span style="color:#ae81ff">25</span>, <span style="color:#ae81ff">25</span>, <span style="color:#ae81ff">25</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>)) <span style="color:#f92672">%&gt;%</span>
</span></span><span style="display:flex;"><span>                  <span style="color:#a6e22e">rbind</span>(<span style="color:#ae81ff">26</span>, .)
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">layout</span>(mat, widths <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">1.25</span>), heights <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">1</span>, <span style="color:#a6e22e">rep</span>(<span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>), <span style="color:#ae81ff">4</span>)))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Rasters</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">for</span>(j in <span style="color:#ae81ff">1</span><span style="color:#f92672">:</span><span style="color:#a6e22e">ncol</span>(labels)) {
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">par</span>(pch <span style="color:#f92672">=</span> <span style="color:#ae81ff">21</span>,  xaxs <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;i&#34;</span>, yaxs <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;i&#34;</span>, family <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;serif&#34;</span>, mar <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>))
</span></span><span style="display:flex;"><span>                r <span style="color:#f92672">&lt;-</span> raster<span style="color:#f92672">::</span><span style="color:#a6e22e">raster</span>(UV[[1]][,,labels[i,j]], xmn <span style="color:#f92672">=</span> ext[1], xmx <span style="color:#f92672">=</span> ext[2],
</span></span><span style="display:flex;"><span>                    ymn <span style="color:#f92672">=</span> ext[3], ymx <span style="color:#f92672">=</span> ext[4], crs <span style="color:#f92672">=</span> spatProj) <span style="color:#f92672">%&gt;%</span>
</span></span><span style="display:flex;"><span>                      <span style="color:#a6e22e">mask</span>(ocean)
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">eplot</span>(xmin <span style="color:#f92672">=</span> ext[1], xmax <span style="color:#f92672">=</span> ext[2], ymin <span style="color:#f92672">=</span> ext[3], ymax <span style="color:#f92672">=</span> ext[4])
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">image</span>(r, col<span style="color:#f92672">=</span> <span style="color:#a6e22e">rbPal</span>(<span style="color:#ae81ff">100</span>), breaks <span style="color:#f92672">=</span> <span style="color:#a6e22e">seq</span>(<span style="color:#ae81ff">0</span>,max_,length.out <span style="color:#f92672">=</span> <span style="color:#ae81ff">101</span>), legend <span style="color:#f92672">=</span> <span style="color:#66d9ef">FALSE</span>, add <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>)
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">plot</span>(ocean, add <span style="color:#f92672">=</span> <span style="color:#66d9ef">TRUE</span>)
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">text</span>(x <span style="color:#f92672">=</span> <span style="color:#ae81ff">-54.5</span>, y <span style="color:#f92672">=</span> <span style="color:#ae81ff">45</span>, labels <span style="color:#f92672">=</span> <span style="color:#a6e22e">paste</span>(<span style="color:#a6e22e">colnames</span>(labels)[j], <span style="color:#a6e22e">rownames</span>(labels)[i]), adj <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, cex <span style="color:#f92672">=</span> <span style="color:#ae81ff">1.5</span>)
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Plot trends</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">for</span>(j in <span style="color:#ae81ff">1</span><span style="color:#f92672">:</span><span style="color:#a6e22e">ncol</span>(labels)) {
</span></span><span style="display:flex;"><span>                temporal <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">data.frame</span>(years <span style="color:#f92672">=</span> years[1<span style="color:#f92672">:</span>i], monthMean <span style="color:#f92672">=</span> monthMean[labels[1<span style="color:#f92672">:</span>i, j]],
</span></span><span style="display:flex;"><span>                    lowCI <span style="color:#f92672">=</span> lowCI[labels[1<span style="color:#f92672">:</span>i, j]], upCI <span style="color:#f92672">=</span> upCI[labels[1<span style="color:#f92672">:</span>i, j]]) <span style="color:#f92672">%&gt;%</span>
</span></span><span style="display:flex;"><span>                            <span style="color:#a6e22e">na.omit</span>()
</span></span><span style="display:flex;"><span>                polyY <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">c</span>(temporal<span style="color:#f92672">$</span>upCI, <span style="color:#a6e22e">rev</span>(temporal<span style="color:#f92672">$</span>lowCI)) <span style="color:#75715e"># Y coordinates for confidence interval polygon</span>
</span></span><span style="display:flex;"><span>                polyX <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">c</span>(temporal<span style="color:#f92672">$</span>years, <span style="color:#a6e22e">rev</span>(temporal<span style="color:#f92672">$</span>years)) <span style="color:#75715e"># X coordinates for confidence interval polygon</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">par</span>(mar <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">1</span>), family <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;serif&#34;</span>)
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">eplot</span>(xmin <span style="color:#f92672">=</span> <span style="color:#ae81ff">2005</span>, xmax <span style="color:#f92672">=</span> <span style="color:#ae81ff">2016</span>, ymin <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, ymax <span style="color:#f92672">=</span> <span style="color:#a6e22e">max</span>(upCI))
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">polygon</span>(polyX, polyY, border <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;transparent&#39;</span>, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;#d9e5f4&#34;</span>)
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">lines</span>(temporal<span style="color:#f92672">$</span>monthMean <span style="color:#f92672">~</span> temporal<span style="color:#f92672">$</span>years, lwd <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>, col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;#0057bb&#39;</span>)
</span></span><span style="display:flex;"><span>                <span style="color:#a6e22e">axis</span>(side <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>, at <span style="color:#f92672">=</span> <span style="color:#a6e22e">seq</span>(<span style="color:#ae81ff">0</span>, plyr<span style="color:#f92672">::</span><span style="color:#a6e22e">round_any</span>(<span style="color:#a6e22e">max</span>(upCI), <span style="color:#ae81ff">1000</span>, ceiling), by <span style="color:#f92672">=</span> <span style="color:#ae81ff">2500</span>),
</span></span><span style="display:flex;"><span>                  las <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, pos <span style="color:#f92672">=</span> <span style="color:#ae81ff">2004.75</span>, cex <span style="color:#f92672">=</span>  <span style="color:#ae81ff">1.5</span>)
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Plot legend</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">colorBar</span>(<span style="color:#a6e22e">rbPal</span>(<span style="color:#ae81ff">101</span>), min <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, max <span style="color:#f92672">=</span> max_)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Graph title</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">par</span>(mar <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>))
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">eplot</span>(xmin <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, xmax <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>, ymin <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, ymax <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">text</span>(x <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>, y <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>, labels <span style="color:#f92672">=</span> <span style="color:#a6e22e">bquote</span>(<span style="color:#e6db74">&#34;Erythemal UV Irradiance (mW/m&#34;</span> ^2 <span style="color:#f92672">*</span><span style="color:#e6db74">&#34;)&#34;</span>), cex <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}, movie.name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;UVanimate.gif&#34;</span>)
</span></span></code></pre></div><center>
  
    <img src="UVanimate.gif" width="80%">
  
</center>

<h2 id="concluding-remarks">Concluding remarks</h2>
<p>As you can see, it is quite straightforward to create powerful and informative animations in R.</p>
<div style="padding: 2rem 0rem 2rem 0rem;">
<details>
<summary>
<h4>
<p><i class="fa fa-chevron-right" aria-hidden="true"></i>Session info
<i class="fa fa-cogs" aria-hidden="true"></i></p>
</h4>
</summary>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#a6e22e">sessionInfo</span>()
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;  R version 4.2.0 (2022-04-22)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;  Platform: x86_64-pc-linux-gnu (64-bit)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;  Running under: Debian GNU/Linux bookworm/sid</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;  Matrix products: default</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;  BLAS:   /usr/lib/x86_64-linux-gnu/blas/libblas.so.3.10.1</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;  LAPACK: /usr/lib/x86_64-linux-gnu/lapack/liblapack.so.3.10.1</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;  locale:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;   [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;   [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;   [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;   [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;   [9] LC_ADDRESS=C               LC_TELEPHONE=C            </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;  [11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;  attached base packages:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;  [1] stats     graphics  grDevices utils     datasets  methods   base     </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;  other attached packages:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;  [1] rgdal_1.5-32           plyr_1.8.7             raster_3.5-15         </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;  [4] sp_1.4-7               magrittr_2.0.3         animation_2.7         </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;  [7] inSilecoRef_0.0.1.9000</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;  loaded via a namespace (and not attached):</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;   [1] Rcpp_1.0.8.3      lattice_0.20-45   lubridate_1.8.0   ps_1.7.0         </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;   [5] assertthat_0.2.1  digest_0.6.29     utf8_1.2.2        mime_0.12        </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;   [9] R6_2.5.1          backports_1.4.1   evaluate_0.15     httr_1.4.3       </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;  [13] blogdown_1.10     pillar_1.7.0      rlang_1.0.2       curl_4.3.2       </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;  [17] data.table_1.14.2 miniUI_0.1.1.1    callr_3.7.0       jquerylib_0.1.4  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;  [21] DT_0.23           rmarkdown_2.14    RefManageR_1.3.0  rcrossref_1.1.0  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;  [25] stringr_1.4.0     htmlwidgets_1.5.4 igraph_1.2.11     shiny_1.7.1      </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;  [29] compiler_4.2.0    httpuv_1.6.5      xfun_0.31         pkgconfig_2.0.3  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;  [33] htmltools_0.5.2   tidyselect_1.1.2  tibble_3.1.7      httpcode_0.3.0   </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;  [37] bookdown_0.26     codetools_0.2-18  fansi_1.0.3       crayon_1.5.1     </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;  [41] dplyr_1.0.9       withr_2.5.0       later_1.3.0       grid_4.2.0       </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;  [45] crul_1.2.0        jsonlite_1.8.0    xtable_1.8-4      lifecycle_1.0.1  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;  [49] DBI_1.1.2         cli_3.3.0         stringi_1.7.6     promises_1.2.0.1</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;  [53] xml2_1.3.3        bslib_0.3.1       ellipsis_0.3.2    targets_0.12.0   </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;  [57] generics_0.1.2    vctrs_0.4.1       tools_4.2.0       glue_1.6.2       </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;  [61] purrr_0.3.4       processx_3.5.3    fastmap_1.1.0     yaml_2.3.5       </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#R&gt;  [65] terra_1.5-21      base64url_1.4     knitr_1.39        sass_0.4.1</span>
</span></span></code></pre></div></details>
</div>


      <div class="text-justify">
        
          <div class="edits">
            <h4><b><i class="fa fa-edit" aria-hidden="true"></i> Edits</b></h4>
            <p style="font-size: 1.5rem">
              
              <i class="fa fa-pencil" aria-hidden="true"></i> Apr 27, 2022 -- Beautify the code and archive the post. <br>
              
            </p>
          </div>
        

      </div>


    

    </center>

    </div>

      <br>

  
  <script>
    var $jq = jQuery.noConflict();
      $jq(function() {
          var toc = $jq("#toc").tocify({
            selectors: "h2, h3",
            scrollTo: 50
          }).data("toc-tocify");
    });
  </script>

  
  <script src="//yihui.name/js/math-code.js"></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML' async></script>
  
  


  <h3 class="page-header">Comments on this post</h3>

  <script src="https://utteranc.es/client.js"
        repo="inSileco/inSileco.github.io"
        issue-term="pathname"
        label="Comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
  </script>


  <details>
  <summary>Comment with Disqus</summary>
  <div id="disqus_thread"></div>
  </details>

  
  

  
    <h3 class="page-header">Related posts</h3>
     <div class="item-bottom">

  

  <h1>
    <a href="/2020/08/29/custom-tick-marks-with-rs-base-graphics-system/">Custom tick marks with R&#39;s base graphics system</a> <small>August 29, 2020</small>
  </h1>

  <p> <i class="fa fa-tags" aria-hidden="true"></i>  <a href="/tags/r"><kbd class="item-tag">R</kbd></a>  <a href="/tags/ticks"><kbd class="item-tag">ticks</kbd></a>  <a href="/tags/axes"><kbd class="item-tag">axes</kbd></a> </p>

  



  

</div>
  <div class="item-bottom">

  

  <h1>
    <a href="/2020/04/21/insilecomisc-0.4.0-part-2/2/">inSilecoMisc 0.4.0 (part 2/2)</a> <small>April 21, 2020</small>
  </h1>

  <p> <i class="fa fa-tags" aria-hidden="true"></i>  <a href="/tags/r"><kbd class="item-tag">R</kbd></a>  <a href="/tags/package"><kbd class="item-tag">package</kbd></a>  <a href="/tags/development"><kbd class="item-tag">development</kbd></a>  <a href="/tags/insilecomisc"><kbd class="item-tag">inSilecoMisc</kbd></a> </p>

  



  

</div>
  <div class="item-bottom">

  

  <h1>
    <a href="/2020/04/14/insilecomisc-0.4.0-part-1/2/">inSilecoMisc 0.4.0 (part 1/2)</a> <small>April 14, 2020</small>
  </h1>

  <p> <i class="fa fa-tags" aria-hidden="true"></i>  <a href="/tags/r"><kbd class="item-tag">R</kbd></a>  <a href="/tags/package"><kbd class="item-tag">package</kbd></a>  <a href="/tags/development"><kbd class="item-tag">development</kbd></a>  <a href="/tags/insilecomisc"><kbd class="item-tag">inSilecoMisc</kbd></a> </p>

  



  

</div>
 
  





  <script>
    


    var disqus_config = function() {
      this.page.url = "https://insileco.github.io" + "https://insileco.github.io/2017/07/05/animations-in-r-time-series-of-erythemal-irradiance-in-the-st.-lawrence/"; 
      this.page.identifier = "Animations in R: Time series of erythemal irradiance in the St. Lawrence"; 
    };

    (function() { 
      var d = document,
        s = d.createElement('script');
      s.src = 'https://insileco.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>

  <noscript>
    Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
  </noscript>



</div>


</div>

        <footer>

          <script src="//yihui.name/js/math-code.js"></script>
          <script async
            src="//cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
          </script>

            <hr>
            <p class="copyright text-muted" style="font-size: 1.6rem;">
              &copy; 2017-2022 inSileco |
              All rights reserved |
              Powered by <a href="https://bookdown.org/yihui/blogdown/">Blogdown</a>,
                <a href="https://gohugo.io">Hugo</a>
                and <a href="https://github.com/calintat/minimal">Minimal</a> |
              Latest build: 20 Jun 2022 00:57 UTC.
              </p>

        </footer>

    </body>

</html>

